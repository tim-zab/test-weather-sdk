# SDK погоды для OpenWeather API

Лёгкий, потокобезопасный Java SDK для доступа к сайту [OpenWeather API](https://openweathermap.org/api).

## Возможности
- Java 17
- Синглтон на один ключ
- Два режима: `ON_DEMAND` и `POLLING`
- Кэширование (до 10 городов, 10 мин)
- Полная модель данных
- Обработка ошибок
- Освобождение ресурсов

## Установка

Добавьте в `pom.xml`:
```
<dependency>
    <groupId>test</groupId>
    <artifactId>weather-sdk</artifactId>
    <version>1.0.1</version>
</dependency>
```
Получите свой OPENWEATHER_API_KEY на сайте https://openweathermap.org/api и поместите его в свой .env файл в корне проекта. 
Также .env файле вы можете установить интервал обновления UPDATE_INTERVAL

#### Использование
Пример использования можно посмотреть в examples/ExampleUsage.java

#### Режимы
ON_DEMAND: обновление по запросу.
POLLING: фоновое обновление каждые 10 минут.
Важно: Режим работы фиксируется при первом создании экземпляра для данного API-ключа. Попытка создать экземпляр с другим режимом для того же ключа вызовет исключение.

#### Обработка ошибок
Все ошибки выбрасывают WeatherException с информативным сообщением.

#### Кэширование
Максимум 10 городов в кэше
Время жизни элемента: 10 минут
Автоматическая очистка устаревших записей

#### Тестирование 
В WeatherServiceTest использованы основные тестовые сценарии для тестирования.
